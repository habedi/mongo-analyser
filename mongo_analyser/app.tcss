/* General App Styles */
Screen {
    background: $surface-darken-1;
    color: $text;
    overflow: hidden auto;
}

Header {
    dock: top;
    height: 1;
    background: $primary-background-darken-1;
    color: $text;
    padding: 0 1;
    text-style: bold;
}

Footer {
    dock: bottom;
    height: 1;
    background: $primary-background-darken-2;
    color: $text;
    padding: 0 1;
}

Tabs {
    dock: top;
    background: $primary-background;
    padding: 0 1;
}

/* Styles for the containers directly within ContentSwitcher (our main views) */
/* Updated to match the new view IDs like #view_chat_content */
ContentSwitcher > #view_chat_content,
ContentSwitcher > #view_db_connection_content,
ContentSwitcher > #view_schema_analysis_content,
ContentSwitcher > #view_data_extraction_content {
    padding: 1;
    overflow: auto; /* Individual views should scroll their own content */
}

/* Common Panel Styles */
.panel_title {
    padding: 1 0;
    text-style: bold underline;
    width: 100%;
    text-align: center;
    color: $secondary;
}
.panel_title_small {
    padding-top: 1;
    text-style: bold;
    width: 100%;
    color: $secondary-darken-1;
}

/* ChatView Specific Styles (now targeting elements within #view_chat_content) */
#view_chat_content #chat_interface_horizontal_layout {
    layout: horizontal;
    height: 100%;
    width: 100%;
}

#view_chat_content .chat_column_main {
    width: 2fr;
    height: 100%;
    padding-right: 1;
}

/* This class applies to the LLMConfigPanel widget instance.
   More specific styles for its internals should be in LLMConfigPanel.DEFAULT_CSS */
#view_chat_content .chat_column_sidebar {
    width: 1fr;
    min-width: 30; /* Ensure sidebar has a minimum width */
    height: 100%;
    /* Basic container styling, specific widget styling is in LLMConfigPanel */
}

/* This is the VerticalScroll containing the Log or ChatMessageList */
#view_chat_content .chat_log_container {
    height: 1fr;
    border: round $primary-darken-2;
    margin-bottom: 1;
    padding: 1;
    background: $boost;
}
/* If you use the Log widget directly: */
#view_chat_content #chat_log_widget {
    width: 100%;
}
/* If you use the custom ChatMessageList widget: */
/* #view_chat_content #chat_message_list_widget { styles for the list itself } */
/* #view_chat_content ChatMessageWidget { styles for individual messages } */


#view_chat_content .chat_input_container {
    height: auto;
    width: 100%;
    align: left bottom;
    margin-top: 1;
}

/* This targets the Input widget if used directly, or Input within ChatInput widget */
#view_chat_content .chat_input_text,
#view_chat_content ChatInput > Input { /* If ChatInput is a container around an Input */
    width: 1fr;
    min-height: 3;
    margin-right: 1;
}

#view_chat_content .chat_button {
    width: auto;
    height: 100%; /* Will align with single-line input. For multi-line, might need adjustment. */
    min-width: 8;
}
#view_chat_content #send_chat_message_button {
    margin-right:1;
}


/* Styles for LLMConfigPanel instance within ChatView (if not in widget's DEFAULT_CSS) */
/*
#view_chat_content #chat_llm_config_panel Label {
    margin-top: 1;
}
#view_chat_content #chat_llm_config_panel Input,
#view_chat_content #chat_llm_config_panel Select {
    width: 100%;
}
#view_chat_content #chat_llm_config_panel Button.config_button {
    width: 100%;
    margin-top: 2;
}
*/

/* DB Connection View (using #view_db_connection_content) */
#view_db_connection_content Label {
    margin-top: 1;
}
#view_db_connection_content Input {
    width: 100%;
}
#view_db_connection_content #connect_mongo_button {
    margin-top: 1;
    width: 100%;
}
#view_db_connection_content #mongo_connection_status_label {
    margin-top: 1;
    padding: 1;
    width: 100%;
    text-align: center;
    border: round $background-lighten-2;
    height: auto;
}
#view_db_connection_content #collections_title_label {
    margin-top: 2;
}
#view_db_connection_content .collections_list_container { /* Applied to DataTable */
    margin-top:1;
    border: round $primary-darken-1;
    height: 15;
    padding:1;
    background: $primary-background-darken-3;
    overflow: auto;
}
/* No need for .collections_list_container Label if DataTable is used */


/* Schema Analysis View (using #view_schema_analysis_content) */
#view_schema_analysis_content Input {
    width: 100%;
    margin-bottom:1;
}
#view_schema_analysis_content #analyze_schema_button {
    width: 100%;
    margin-top:1;
    margin-bottom:1;
}
#view_schema_analysis_content #schema_results_table { /* Applied to DataTable */
    margin-top:1;
    height: 20;
    border: round $primary-darken-1;
    overflow: auto;
}
#view_schema_analysis_content .json_view_container { /* Applied to VerticalScroll */
    margin-top:1;
    height: 15;
    border: round $primary-darken-1;
    background: $primary-background-darken-3;
    padding: 1;
    overflow: auto;
}
#view_schema_analysis_content .copy_button_container {
    layout: horizontal;
    height: auto;
    margin-top: 1;
    width: 100%;
    align: center middle;
}
#view_schema_analysis_content .copy_button_container Button {
    width: 1fr;
    margin: 0 1;
}
#view_schema_analysis_content #schema_copy_feedback_label {
    width: 100%;
    text-align: center;
    height: 1;
    margin-top: 1;
    color: $success;
}


/* Data Extraction View (using #view_data_extraction_content) */
#view_data_extraction_content Input {
    width: 100%;
    margin-bottom:1;
}
#view_data_extraction_content #start_extraction_button {
    width: 100%;
    margin-top:1;
    margin-bottom:1;
}
#view_data_extraction_content #extraction_log { /* Applied to Log widget */
    height: 20;
    border: round $primary-darken-1;
    background: $primary-background-darken-3;
    overflow: auto;
    padding:1;
}

/* You might add general styles for your new custom widgets here,
   or rely on their DEFAULT_CSS property. For example: */
/*
LLMConfigPanel {
    border: round $accent;
    padding: 1;
}

ChatMessageWidget {
    padding: 0 1;
    margin-bottom: 1;
}
ChatInput Input { // If ChatInput wraps a standard Input
    border: round $secondary;
}
*/
